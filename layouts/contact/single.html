{{ define "main"}}
<section id="contact" class="form">
  <div class="container">
    <div class="row">
      <div class="col text-center">
        <h1>{{ .Title }}</h1>
      </div>
    </div>
    <div class="row mb-5">
      <div class="col text-center">
        <p>{{ .Content }}</p>
      </div>
    </div>

    <div class="row">
      <div class="col d-grid col-md-8 mx-auto">
        <form action="{{ .Site.Params.form.contact.action }}" method="POST" class="needs-validation" novalidate>
    
          <div class="row">
            <div class="col-md mb-3">
              <div class="form-floating">
                <input type="text" class="form-control" id="name" name="name" placeholder="{{ T "contact_name" }}" title="{{ T "contact_name" }}" 
                       pattern="{{ .Site.Params.form.validation.namePattern }}" required>
                <label for="name">{{ T "contact_name" }}</label>
                <div class="valid-feedback">{{ T "contact_valid_feedback" }}</div>
                <div class="invalid-feedback">{{ T "contact_invalid_feedback" (dict "field" "name" "campo" "nombre") }}</div>
              </div>
            </div>
    
            <div class="col-md mb-3">
              <div class="form-floating">
                <input type="email" class="form-control" id="email" name="email" placeholder="{{ T "contact_email" }}" title="{{ T "contact_email" }}" 
                       pattern="{{ .Site.Params.form.validation.emailPattern }}" required>
                <label for="email">{{ T "contact_email" }}</label>
                <div class="valid-feedback">{{ T "contact_valid_feedback" }}</div>
                <div class="invalid-feedback">{{ T "contact_invalid_feedback" (dict "field" "email" "campo" "email") }}</div>
              </div>
            </div>
          </div>
    
          <div class="row">
            <div class="col mb-3">
              <div class="form-floating">
                <textarea class="form-control h-100" id="message" name="message" placeholder="{{ T "contact_message" }}" title="{{ T "contact_message" }}" rows="5" required></textarea>
                <label for="message">{{ T "contact_message" }}</label>
                <div class="valid-feedback">{{ T "contact_valid_feedback" }}</div>
                <div class="invalid-feedback">{{ T "contact_invalid_feedback" (dict "field" "message" "campo" "mensaje") }}</div>
              </div>
            </div>
          </div>

          {{ if .Site.Params.form.recaptcha.v2.siteKey }}
          <div class="row">
            <div class="col mt-2 mb-4 d-flex justify-content-center">
              <div class="g-recaptcha" data-sitekey="{{ .Site.Params.form.recaptcha.v2.siteKey }}"></div>
            </div>
          </div>
          {{ end }}

          <div class="row">
            <div class="d-grid col-md-3 mx-auto">
              <button type="submit" class="btn btn-lg btn-primary">
                <span>{{ T "send" }}</span>
                <span class="visually-hidden">{{ T "sending" }}</span>
                <span class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
              </button>
            </div>
          </div>
      
          <input type="hidden" name="subject" value="{{ T "contact_subject" }}" />
          <input type="hidden" name="language" value="{{ .Site.Language.Lang }}" />      
        </form>
      </div>
    </div>

  </div>
</section>

<section id="contact-thanks" class="thanks visually-hidden">
  <div class="container">
    <div class="row m-5">
      <div class="col text-center">
        <h1>{{ T "thanks" }}</h1>
      </div>
    </div>
    <div class="row m-5">
      <div class="col text-center">
        <p>{{ T "thanks_message" }}</p>
      </div>
    </div>
    <div class="row m-5">
      <div class="col text-center">
        <a class="btn btn-primary" href="{{ .Site.BaseURL | relLangURL }}">{{ T "go_home" }}</a>
      </div>
    </div>
  </div>
</section>

<section id="contact-error" class="error visually-hidden">
  <div class="container">
    <div class="row m-5">
      <div class="col text-center">
        <h1>{{ T "error" }}</h1>
      </div>
    </div>
    <div class="row m-5">
      <div class="col text-center">
        <p>{{ T "error_message" }}</p>
      </div>
    </div>
    <div class="row m-5">
      <div class="col text-center">
        <a class="btn btn-primary" href="{{ .Site.BaseURL | relLangURL }}">{{ T "go_home" }}</a>
      </div>
    </div>
  </div>
</section>

{{ end }}
